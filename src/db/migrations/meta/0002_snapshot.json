{
  "id": "dd48b7d5-8da6-49c4-9492-650c5f4cfe1b",
  "prevId": "7f83079f-a0d2-4029-8c9c-3f8d48a03c7e",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.games": {
      "name": "games",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "white_id": {
          "name": "white_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "black_id": {
          "name": "black_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_for_guests": {
          "name": "is_for_guests",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "current_fen": {
          "name": "current_fen",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1'"
        },
        "result": {
          "name": "result",
          "type": "result",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "game_over_reason": {
          "name": "game_over_reason",
          "type": "gameover_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'matching'"
        },
        "timer": {
          "name": "timer",
          "type": "timer_option",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "current_turn": {
          "name": "current_turn",
          "type": "color",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'w'"
        },
        "white_time_left": {
          "name": "white_time_left",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "black_time_left": {
          "name": "black_time_left",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "last_move_at": {
          "name": "last_move_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "game_started_at": {
          "name": "game_started_at",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "white_ready": {
          "name": "white_ready",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "black_ready": {
          "name": "black_ready",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guests": {
      "name": "guests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.moves": {
      "name": "moves",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "fen_after": {
          "name": "fen_after",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "game_id": {
          "name": "game_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from": {
          "name": "from",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true
        },
        "to": {
          "name": "to",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true
        },
        "promotion": {
          "name": "promotion",
          "type": "promotion_piece",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "player_color": {
          "name": "player_color",
          "type": "color",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "piece": {
          "name": "piece",
          "type": "piece",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "captured_piece": {
          "name": "captured_piece",
          "type": "piece",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "is_check": {
          "name": "is_check",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_checkmate": {
          "name": "is_checkmate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "move_time": {
          "name": "move_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "san": {
          "name": "san",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "moves_game_id_games_id_fk": {
          "name": "moves_game_id_games_id_fk",
          "tableFrom": "moves",
          "tableTo": "games",
          "columnsFrom": [
            "game_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.players": {
      "name": "players",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "elo": {
          "name": "elo",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "games_played": {
          "name": "games_played",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "wins": {
          "name": "wins",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "losses": {
          "name": "losses",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "draws": {
          "name": "draws",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "players_username_unique": {
          "name": "players_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.gameover_reason": {
      "name": "gameover_reason",
      "schema": "public",
      "values": [
        "Checkmate",
        "Timeout",
        "Fifty moves rule",
        "Insufficient material",
        "Stalemate",
        "Threefold repetition",
        "Resignation"
      ]
    },
    "public.result": {
      "name": "result",
      "schema": "public",
      "values": [
        "draw",
        "white_won",
        "black_won"
      ]
    },
    "public.status": {
      "name": "status",
      "schema": "public",
      "values": [
        "matching",
        "preparing",
        "playing",
        "finished"
      ]
    },
    "public.timer_option": {
      "name": "timer_option",
      "schema": "public",
      "values": [
        "bullet 1+0",
        "bullet 2+1",
        "blitz 3+0",
        "blitz 3+2",
        "blitz 5+0",
        "blitz 5+3",
        "rapid 10+0",
        "rapid 10+5",
        "rapid 15+10"
      ]
    },
    "public.color": {
      "name": "color",
      "schema": "public",
      "values": [
        "w",
        "b"
      ]
    },
    "public.piece": {
      "name": "piece",
      "schema": "public",
      "values": [
        "q",
        "r",
        "n",
        "b",
        "k",
        "p"
      ]
    },
    "public.promotion_piece": {
      "name": "promotion_piece",
      "schema": "public",
      "values": [
        "q",
        "r",
        "n",
        "b"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}